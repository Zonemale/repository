<html>
<head>
  <title>JDBC</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600388 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1821"/>
<h1>JDBC</h1>

<div>
<span><div><div><span style="font-size: 14pt; font-weight: bold;">一、JDBC</span></div><ol><li><div>概念：Java语言操作数据库</div></li><li><div>本质：<span style="color: rgb(255, 0, 0);">其实是官方定义的一套操作所有关系型数据库的规则，即接口</span>。各个数据库厂商去实现这套接口，提供数据库驱动jar包，我们可以使用这套接口（JDBC）编程，真正执行的代码是驱动jar包中的实现类</div></li><li><div>驱动：<span style="color: rgb(255, 0, 0); font-weight: bold;">各个数据库厂商提供的规范的实现类</span><img src="JDBC_files/JDBC本质.bmp" type="image/bmp" data-filename="JDBC本质.bmp"/></div></li><li><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">快速入门</span></font></div></li><ol><li><div>步骤：</div></li><ol><li><div>导入驱动jar包</div></li><ol><li><div>复制mysql-connector-java-5.1.37-bin.jar到项目的libs目录下</div></li><li><div>右键--&gt;Add As Library</div></li></ol><li><div>注册驱动</div></li><ol><li><div><span style="color: rgb(255, 0, 0);">class.forName(&quot;com.mysql.jdbc.Driver&quot;);--注册一次驱动，一般使用这种方式</span></div></li><li><div><span style="color: rgb(255, 0, 0);">DriverManager.registerDriver(new Driver());--<span style="color: rgb(255, 0, 0); font-weight: bold;">会注册两次驱动</span></span></div></li></ol><li><div>获取数据库连接对象Connection</div></li><li><div>定义sql</div></li><li><div>获取执行sql语句的对象Statement</div></li><li><div>执行sql，接收返回结果</div></li><li><div>处理结果</div></li><li><div>释放资源</div></li></ol></ol></ol><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>public static void main(String[] args) throws Exception{</div><div>    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</div><div>    Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/db10&quot;,&quot;root&quot;,&quot;root&quot;);</div><div>    String sql = &quot;update account set balance = 500 where id = 1&quot;;</div><div>    Statement stmt = conn.createStatement();</div><div>    int count = stmt.executeUpdate(sql);</div><div>    System.out.println(count);</div><div>    stmt.close();</div><div>    conn.close();</div><div>}</div></div><ol><ol><li><div><span style="font-size: 11pt; font-weight: bold;">详解各个对象</span></div></li><ol><li><div><span style="color: rgb(255, 0, 0);">DriverManager</span><span style="color: rgb(255, 0, 0);">：驱动管理对象</span></div></li><ol><li><div>功能：</div></li><ol><li><div>注册驱动：告诉程序该使用哪一个数据库驱动jar</div></li><ul><li><div>static void registerDriver(Driver driver) :注册与给定的驱动程序 DriverManager。</div></li><li><div>注意：mysql5之后的驱动jar包可以省略注册驱动的步骤。</div></li></ul></ol><li><div>获取数据库连接</div></li><ol><li><div>方法：static Connection getConnection(String url, String user, String password)</div></li><li><div>参数：</div></li><ul><li><div> url：指定连接的路径</div></li><ul><li><div><span style="color: rgb(255, 0, 0); font-weight: bold;"> 语法：jdbc:</span><a href="mysql://ip/" style="color: rgb(255, 0, 0); font-weight: bold;">mysql://ip</a><span style="color: rgb(255, 0, 0); font-weight: bold;">地址(域名):端口号/数据库名称</span></div></li><li><div> 例子：jdbc:<a href="mysql://localhost:3306/db3">mysql://localhost:3306/db3</a></div></li><li><div> 细节：如果连接的是本机mysql服务器，并且mysql服务默认端口是3306，则url可以简写为：jdbc:mysql:///数据库名称</div></li></ul><li><div>user：用户名</div></li><li><div>password：密码</div></li></ul></ol></ol><li><div><span style="color: rgb(255, 0, 0);">Connection</span>：<span style="color: rgb(255, 70, 53);">数据库连接对象</span></div></li><ol><li><div>功能：</div></li><ol><li><div><span style="color: rgb(227, 0, 0); font-weight: bold;">获取执行sql 的对象</span></div></li><ol><li><div> Statement createStatement()</div></li><li><div> PreparedStatement prepareStatement(String sql)  </div></li></ol><li><div><span style="color: rgb(227, 0, 0); font-weight: bold;">管理事务</span><span style="font-weight: bold;">：</span></div></li><ol><li><div><span style="color: rgb(255, 0, 0);">开启事务：setAutoCommit(boolean autoCommit) ：调用该方法设置参数为false，即开启事务</span></div></li><li><div><span style="color: rgb(255, 0, 0);">提交事务：commit()</span></div></li><li><div><span style="color: rgb(255, 0, 0);">回滚事务：rollback()</span></div></li></ol></ol></ol><li><div><span style="color: rgb(166, 0, 196);">Statement：执行sql的对象</span></div></li><ol><li><div>boolean execute(String sql) ：可以执行任意的sql （了解）</div></li><li><div>int executeUpdate(String sql) ：</div></li><ul><li><div>执行DML（insert、update、delete）语句、DDL(create，alter、drop)语句</div></li><li><div>返回值：影响的行数，可以通过这个影响的行数判断DML语句是否执行成功 返回值&gt;0的则执行成功，反之，则失败。</div></li></ul><li><div>ResultSet executeQuery(String sql)  ：执行DQL（select)语句</div></li></ol><li><div><span style="color: rgb(54, 101, 238);">ResultSet：结果集对象</span></div></li><ol><li><div>boolean next(): 游标向下移动一行，判断当前行是否是最后一行末尾(是否有数据)，如果是，则返回false，如果不是则返回true</div></li><li><div>getXxx(参数):获取数据</div></li><ol><li><div>Xxx：代表数据类型   如： int getInt() ,    String getString()</div></li><li><div>参数：</div></li><ol><li><div> int：代表列的编号,从1开始   如： getString(1)</div></li><li><div> String：代表列名称。 如： getDouble(&quot;balance&quot;)</div></li></ol><li><div>注意：</div></li><ol><li><div>使用步骤：</div></li><ol><li><div> 游标向下移动一行</div></li><li><div> 判断是否有数据</div></li><li><div>获取数据</div></li></ol></ol></ol></ol><li><div><span style="color: rgb(77, 206, 29);">PreparedStatement：执行sql对象</span></div></li><ol><li><div>SQL注入问题：在拼接sql时，有一些sql的特殊关键字参与字符串的拼接。会造成安全性问题</div></li><li><div>解决sql注入问题：使用PreparedStatement对象来解决</div></li><li><div>预编译的SQL：参数使用?作为占位符</div></li><li><div>步骤：</div></li><ol><li><div>导入驱动jar包 mysql-connector-java-5.1.37-bin.jar</div></li><li><div>注册驱动</div></li><li><div>获取数据库连接对象 Connection</div></li><li><div> 定义sql</div></li><li><div> 注意：sql的参数使用？作为占位符。 如：select * from user where username = ? and password = ?;</div></li><li><div>  获取执行sql语句的对象 PreparedStatement  Connection.prepareStatement(String sql)</div></li><li><div>给？赋值：</div></li><ul><li><div>方法： setXxx(参数1,参数2)</div></li><ul><li><div>参数1：？的位置编号 从1 开始</div></li><li><div>参数2：？的值</div></li></ul></ul><li><div> 执行sql，接受返回结果，不需要传递sql语句</div></li><li><div> 处理结果</div></li><li><div> 释放资源</div></li></ol><li><div>注意：后期都会使用PreparedStatement来完成增删改查的所有操作</div></li><ol><li><div>可以防止SQL注入</div></li><li><div>效率更高</div></li></ol></ol></ol></ol></ol><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>public boolean login(String username,String password){</div><div><br/></div><div>    if(username == null || password == null){</div><div>        return false;</div><div>    }</div><div><br/></div><div>    Connection conn = null;</div><div>    PreparedStatement pstmt = null;</div><div>    ResultSet rs = null;</div><div><br/></div><div>    try {</div><div>        conn = JDBCUtil.getConnection();</div><div><br/></div><div>        String sql = &quot;select * from user where name = ? and password = ?&quot;;</div><div>        pstmt = conn.prepareStatement(sql);</div><div><br/></div><div>        pstmt.setString(1,username);</div><div><br/></div><div>        pstmt.setString(2,password);</div><div><br/></div><div>        rs = pstmt.executeQuery();</div><div><br/></div><div>        return rs.next();</div><div><br/></div><div><br/></div><div><br/></div><div>    } catch (SQLException e) {</div><div>        e.printStackTrace();</div><div>    }</div><div><br/></div><div>    JDBCUtil.close(rs,conn,pstmt);</div><div>    return false;</div><div>}</div></div><div><span style="font-size: 14pt; font-weight: bold;">二、JDBC工具类（JDBCUtils）</span></div><div>代码实现：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>public class JDBCUtil {</div><div><br/></div><div>    private static String url;</div><div>    private static String user;</div><div>    private static String password;</div><div>    private static String driver;</div><div><br/></div><div>    static {</div><div>        try {</div><div>            Properties pro = new Properties();</div><div><br/></div><div>            ClassLoader classLoader = JDBCUtil.class.getClassLoader();</div><div>            URL res = classLoader.getResource(&quot;jdbc.properties&quot;);</div><div>            String path = res.getPath();</div><div>            System.out.println(path);</div><div><br/></div><div>            pro.load(new FileReader(path));</div><div>            url = pro.getProperty(&quot;url&quot;);</div><div>            user = pro.getProperty(&quot;user&quot;);</div><div>            password = pro.getProperty(&quot;password&quot;);</div><div>            driver = pro.getProperty(&quot;driver&quot;);</div><div><br/></div><div>            Class.forName(driver);</div><div><br/></div><div><br/></div><div><br/></div><div>        }catch (IOException e){</div><div>            e.printStackTrace();</div><div>        }catch (ClassNotFoundException e){</div><div>            e.printStackTrace();</div><div>        }</div><div>    }</div><div><br/></div><div><br/></div><div>    public static Connection getConnection() throws SQLException {</div><div><br/></div><div>        return DriverManager.getConnection(url,user,password);</div><div>    }</div><div><br/></div><div><br/></div><div>    public static void close(ResultSet rs,Connection conn, Statement stmt){</div><div>        if(rs != null){</div><div>            try {</div><div>                rs.close();</div><div>            } catch (SQLException e) {</div><div>                e.printStackTrace();</div><div>            }</div><div>        }</div><div><br/></div><div>        if(conn != null){</div><div>            try {</div><div>                conn.close();</div><div>            } catch (SQLException e) {</div><div>                e.printStackTrace();</div><div>            }</div><div>        }</div><div><br/></div><div>        if(stmt != null){</div><div>            try {</div><div>                stmt.close();</div><div>            } catch (SQLException e) {</div><div>                e.printStackTrace();</div><div>            }</div><div>        }</div><div>    }</div><div><br/></div><div><br/></div><div><br/></div><div>    public static void close(Connection conn, Statement stmt){</div><div>        if(conn != null){</div><div>            try {</div><div>                conn.close();</div><div>            } catch (SQLException e) {</div><div>                e.printStackTrace();</div><div>            }</div><div>        }</div><div><br/></div><div>        if(stmt != null){</div><div>            try {</div><div>                stmt.close();</div><div>            } catch (SQLException e) {</div><div>                e.printStackTrace();</div><div>            }</div><div>        }</div><div>    }</div><div>}</div></div><div><span style="font-size: 14pt; font-weight: bold;">三、JDBC控制事务</span></div><ol><li><div>事务：一个包含多个步骤的业务操作。如果这个业务操作被事务管理，则这多个步骤要么同时成功，要么同时失败。</div></li><li><div>操作：</div></li><ol><li><div>开启事务</div></li><li><div>提交事务</div></li><li><div>回滚事务</div></li></ol><li><div>使用Connection对象来管理事务</div></li><ol><li><div><font color="#FF0000">开启事务：setAutoCommit(boolean autoCommit) ：调用该方法设置参数为false，即开启事务</font></div></li><ol><li><div><font color="#FF0000">在执行sql之前开启事务</font></div></li></ol><li><div><font color="#FF0000">提交事务：commit()</font></div></li><ol><li><div><font color="#FF0000">当所有sql都执行完提交事务</font></div></li></ol><li><div><font color="#FF0000">回滚事务：rollback()</font></div></li><ol><li><div><font color="#FF0000">在catch中回滚事务</font></div></li></ol></ol></ol><div><span style="font-size: 14pt; font-weight: bold;">四、数据库连接池</span></div><ol><li><div>概念：其实就是一个容器(集合)，存放数据库连接的容器。</div></li><ul><li><div>当系统初始化好后，容器被创建，容器中会申请一些连接对象，当用户来访问数据库时，从容器中获取连接对象，用户访问完之后，会将连接对象归还给容器。</div></li></ul><li><div>好处：</div></li><ul><li><div>节约资源</div></li><li><div>用户访问高效</div></li></ul><li><div>实现：</div></li><ol><li><div>标准接口：DataSource     javax.sql包下的</div></li><ol><li><div>方法：</div></li><ol><li><div>获取连接：getConnection()</div></li><li><div>归还连接：如果连接对象connection是从连接池中获取，那么调用Connection.close()方法则不会关闭连接，而是归还连接</div></li></ol></ol><li><div>一般不去实现它，由数据库厂商来实现</div></li><ol><li><div>C3P0:数据库连接池技术</div></li><li><div>Druid:数据库连接池实现技术，由阿里巴巴提供</div></li></ol></ol><li><div><span style="font-size: 11pt; font-weight: bold;">C3P0:数据库连接池技术</span></div></li><ol><li><div>步骤：</div></li><ol><li><div>导入jar包(两个) c3p0-0.9.5.2.jar mchange-commons-java-0.2.12.jar</div></li><ul><li><div>不要忘记导入数据库驱动jar包</div></li></ul><li><div>定义配置文件：</div></li><ul><li><div><span style="color: rgb(255, 0, 0);">名称： c3p0.properties 或者 c3p0-config.xml</span></div></li><li><div>路径：直接将文件放在src目录下即可。</div></li></ul><li><div>创建核心对象 数据库连接池对象 ComboPooledDataSource</div></li><ol><li><div>DataSource ds  = new ComboPooledDataSource();</div></li></ol><li><div>获取连接： getConnection</div></li><ol><li><div>Connection conn = ds.getConnection();</div></li></ol></ol></ol><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">Druid：数据库连接池实现技术，由阿里巴巴提供的</span></font></div></li><ol><li><div>步骤：</div></li><ol><li><div> 导入jar包 druid-1.0.9.jar</div></li><li><div> 定义配置文件：</div></li><ol><li><div>是properties形式的</div></li><li><div>可以叫任意名称，可以放在任意目录下</div></li></ol><li><div> 加载配置文件。Properties</div></li><ol><li><div>Properties pro = new Properties();</div></li><li><div>InputStream is = DruidDemo.class.getClassLoader().getResourceAsStream(&quot;druid.properties&quot;);</div></li><li><div>pro.load(is);</div></li></ol><li><div> 获取<span style="color: rgb(255, 0, 0);">数据库连接池对象</span>：<span style="color: rgb(255, 0, 0);">通过工厂类来获取  DruidDataSourceFactory</span></div></li><ol><li><div>DataSource ds = DruidDataSourceFactory.createDataSource(pro);</div></li></ol><li><div> 获取连接：getConnection</div></li><ol><li><div>Connection conn = ds.getConnection();</div></li></ol></ol></ol></ol><div>总结：c3p0和druid的区别是，c3p0会把配置文件加载好，只需要new就能直接创建连接池对象，druid需要自己加载配置文件</div><ol><ol><li><div>定义工具类</div></li></ol></ol><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>public class JDBCUtil {</div><div><br/></div><div>    private static DataSource ds;</div><div><br/></div><div>    static{</div><div><br/></div><div>        try {</div><div><br/></div><div>            Properties pro = new Properties();</div><div><br/></div><div>            pro.load(JDBCUtil.class.getClassLoader().getResourceAsStream(&quot;druid.properties&quot;));</div><div><br/></div><div>            ds = DruidDataSourceFactory.createDataSource(pro);</div><div><br/></div><div><br/></div><div>        } catch (IOException e) {</div><div>            e.printStackTrace();</div><div>        } catch (Exception e) {</div><div>            e.printStackTrace();</div><div>        }</div><div><br/></div><div>    }</div><div><br/></div><div>    public static Connection getConnection() throws SQLException {</div><div>        return ds.getConnection();</div><div>    }</div><div><br/></div><div>    public static DataSource getDataSource(){</div><div>        return ds;</div><div>    }</div><div><br/></div><div><br/></div><div>    public static void close(ResultSet rs, Statement stmt, Connection conn){</div><div>        if(rs != null){</div><div>            try {</div><div>                rs.close();</div><div>            } catch (SQLException e) {</div><div>                e.printStackTrace();</div><div>            }</div><div>        }</div><div>        if(stmt != null){</div><div>            try {</div><div>                stmt.close();</div><div>            } catch (SQLException e) {</div><div>                e.printStackTrace();</div><div>            }</div><div>        }</div><div>        if(conn != null){</div><div>            try {</div><div>                conn.close();</div><div>            } catch (SQLException e) {</div><div>                e.printStackTrace();</div><div>            }</div><div>        }</div><div><br/></div><div>    }</div><div><br/></div><div>    public static void close(Statement stmt,Connection conn){</div><div>        close(null,stmt,conn);</div><div>    }</div><div><br/></div><div>}</div></div><div><span style="font-size: 14pt; font-weight: bold;">五、Spring JDBC</span></div><ol><li><div>Spring框架对JDBC的简单封装。提供了一个JDBCTemplate对象简化JDBC的开发</div></li><li><div>步骤：</div></li><ol><li><div>导入jar包</div></li><li><div>创建JdbcTemplate对象。依赖于<font style="font-size: 11pt;"><span style="font-size: 11pt; color: rgb(255, 0, 0); font-weight: bold;">数据源</span></font>DataSource</div></li><ol><li><div>JdbcTemplate template = new JdbcTemplate(DataSource ds);</div></li></ol><li><div>调用JdbcTemplate的方法来完成CRUD的操作</div></li><ol><li><div><span style="color: rgb(255, 0, 0);">update():执行DML语句。增、删、改语句</span></div></li><li><div><span style="color: rgb(255, 0, 0);">queryForMap():查询结果将结果集封装为map集合，将列名作为key，将值作为value 将这条记录封装为一个map集合</span></div></li><ul><li><div>注意：这个方法查询的结果集长度只能是1</div></li></ul><li><div><span style="color: rgb(255, 0, 0);">queryForList():查询结果将结果集封装为list集合</span></div></li><ul><li><div>注意：将每一条记录封装为一个Map集合，再将Map集合装载到List集合中</div></li></ul><li><div><span style="color: rgb(255, 0, 0);">query():查询结果，将结果封装为JavaBean对象</span></div></li><ul><li><div>query的参数：<span style="color: rgb(227, 0, 0);">RowMapper</span></div></li><ul><li><div>一般我们使用BeanPropertyRowMapper实现类。可以完成数据到JavaBean的自动封装</div></li><li><div><span style="color: rgb(255, 0, 0);">new BeanPropertyRowMapper</span>&lt;类型&gt;(<span style="color: rgb(166, 0, 196);">类型.class</span>)</div></li></ul></ul><li><div><span style="color: rgb(255, 0, 0);">queryForObject：查询结果，将结果封装为对象</span></div></li><ul><li><div>一般用于聚合函数的查询</div></li></ul></ol></ol></ol><div><span style="font-size: 11pt;">jar包的问题:</span></div><div><span style="font-size: 11pt;">        mysql驱动:</span></div><div><span style="font-size: 11pt;">            mysql-connector-java-5.1.37-bin.jar</span></div><div><span style="font-size: 11pt;">        </span></div><div><span style="font-size: 11pt;">        c3p0:</span></div><div><span style="font-size: 11pt;">            c3p0-0.9.5.2.jar</span></div><div><span style="font-size: 11pt;">            mchange-commons-java-0.2.12.jar</span></div><div><span style="font-size: 11pt;">            </span></div><div><span style="font-size: 11pt;">        druid:</span></div><div><span style="font-size: 11pt;">            druid-1.0.9.jar</span></div><div><span style="font-size: 11pt;">            </span></div><div><span style="font-size: 11pt;">        jdbcTemplate:</span></div><div><span style="font-size: 11pt;">            spring-beans-5.0.0.RELEASE.jar</span></div><div><span style="font-size: 11pt;">            spring-core-5.0.0.RELEASE.jar</span></div><div><span style="font-size: 11pt;">            spring-jdbc-5.0.0.RELEASE.jar</span></div><div><span style="font-size: 11pt;">            spring-tx-5.0.0.RELEASE.jar</span></div><div><span style="font-size: 11pt;">            commons-logging-1.2.jar</span></div><div><span style="font-size: 11pt;">        需求:</span></div><div><span style="font-size: 11pt;">            需要使用druid + jdbctemplate技术进行jdbc的开发:</span></div><div><span style="font-size: 11pt;">                mysql-connector-java-5.1.37-bin.jar</span></div><div><span style="font-size: 11pt;">                druid-1.0.9.jar</span></div><div><span style="font-size: 11pt;">                spring-beans-5.0.0.RELEASE.jar</span></div><div><span style="font-size: 11pt;">                spring-core-5.0.0.RELEASE.jar</span></div><div><span style="font-size: 11pt;">                spring-jdbc-5.0.0.RELEASE.jar</span></div><div><span style="font-size: 11pt;">                spring-tx-5.0.0.RELEASE.jar</span></div><div><span style="font-size: 11pt;">                commons-logging-1.2.jar</span></div><div><span style="font-size: 14pt; font-weight: bold;">六.web概述</span></div><ol><li><div>软件架构：</div></li><ol><li><div>. C/S: Client/Server 客户端/服务器端</div></li><ol><li><div>在用户本地有一个客户端程序，在远程有一个服务器端程序</div></li><ol><li><div>如：QQ，迅雷...</div></li><li><div>优点：用户体验好</div></li><li><div>缺点：开发、安装，部署，维护 麻烦</div></li></ol></ol><li><div>B/S: Browser/Server 浏览器/服务器端</div></li><ol><li><div>只需要一个浏览器，用户通过不同的网址(URL)，客户访问不同的服务器端程序</div></li><li><div>优点：</div></li><ol><li><div>开发、安装，部署，维护 简单</div></li></ol><li><div> 缺点：</div></li><ol><li><div> 如果应用过大，用户的体验可能会受到影响</div></li><li><div>对硬件要求过高</div></li></ol></ol><li><div>B/S架构详解</div></li><ol><li><div>资源分类：</div></li><ol><li><div>使用静态网页开发技术发布的资源。</div></li><li><div>特点：</div></li><ol><li><div>所有用户访问，得到的结果是一样的。</div></li><li><div>如：文本，图片，音频、视频, HTML,CSS,JavaScript</div></li><li><div> 如果用户请求的是静态资源，那么服务器会直接将静态资源发送给浏览器。浏览器中内置了静态资源的解析引擎，可以展示静态资源</div></li></ol><li><div>动态资源：</div></li><ol><li><div>使用动态网页及时发布的资源。</div></li><ol><li><div>特点：</div></li><ol><li><div> 所有用户访问，得到的结果可能不一样。</div></li><li><div> 如：jsp/servlet,php,asp...</div></li><li><div>如果用户请求的是动态资源，那么服务器会执行动态资源，转换为静态资源，再发送给浏览器</div></li></ol></ol></ol></ol></ol></ol></ol><div><span style="font-size: 14pt; font-weight: bold;">七、前端</span></div><ol><li><div>HTML</div></li><ol><li><div>概念：是最基础的网页开发语言</div></li><ol><li><div> Hyper Text Markup Language 超文本标记语言</div></li><ol><li><div>超文本:</div></li><ol><li><div> 超文本是用超链接的方法，将各种不同空间的文字信息组织在一起的网状文本.</div></li></ol><li><div>标记语言:</div></li><ol><li><div>由标签构成的语言。&lt;标签名称&gt; 如 html，xml</div></li><li><div> 标记语言不是编程语言</div></li></ol></ol></ol></ol><li><div>JavaScript：</div></li><ol><li><div><font color="#FF0000">其他类型转boolean值</font></div></li><ol><li><div><span style="font-size: 11pt;"><font color="#FF0000">0或NaN为假，非0为真</font></span></div></li><li><div><span style="font-size: 14.6667px;"><font color="#FF0000">除了空字符串，都是true</font></span></div></li><li><div><span style="font-size: 14.6667px;"><font color="#FF0000">null和undefined都是false</font></span></div></li><li><div><span style="font-size: 14.6667px;"><font color="#FF0000">所有对象都是true</font></span></div></li></ol><li><div><span style="font-size: 14.6667px;">变量用var声明</span></div></li><ol><li><div><span style="font-size: 14.6667px;">用：定义的变量是局部变量</span></div></li><li><div><span style="font-size: 14.6667px;">不用：定义的变量是去全局变量</span></div></li></ol></ol><li><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; font-weight: bold;">正则表达式</span></span></div></li><ol><li><div><span style="font-size: 11pt;">{m,n}，m&lt;=出现数量&lt;=n</span></div></li><ol><li><div><span style="font-size: 11pt;">{,n}最多n次</span></div></li><li><div><span style="font-size: 11pt;">{m,}最少m次</span></div></li></ol></ol><li><div><span style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">Global</span></span></div></li><ol><li><div><span style="font-size: 11pt;"> 特点：全局对象，这个Global中封装的方法不需要对象就可以直接调用。  方法名();</span></div></li><li><div><span style="font-size: 11pt;"> 方法：</span></div></li><ol><li><div><span style="font-size: 11pt;">encodeURI():url编码</span></div></li><li><div><span style="font-size: 11pt;">decodeURI():url解码</span></div></li><ol><li><div><span style="font-size: 11pt;">encodeURIComponent():url编码,编码的字符更多</span></div></li><li><div><span style="font-size: 11pt;">decodeURIComponent():url解码</span></div></li><li><div><span style="font-size: 11pt;"> parseInt():将字符串转为数字</span></div></li><ol><li><div><span style="font-size: 11pt;"> 逐一判断每一个字符是否是数字，直到不是数字为止，将前边数字部分转为number</span></div></li></ol></ol><li><div><span style="font-size: 11pt;"> isNaN():判断一个值是否是NaN</span></div></li><ol><li><div><span style="font-size: 11pt;"> NaN六亲不认，连自己都不认。NaN参与的==比较全部问false</span></div></li></ol><li><div><span style="font-size: 11pt;">eval():将 JavaScript 字符串，并把它作为脚本代码来执行。</span></div></li></ol><li><div><span style="font-size: 11pt;"> URL编码</span></div></li><ol><li><div><span style="font-size: 11pt;">传智播客 =  %E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2</span></div></li></ol></ol><li><div><span style="font-size: 14.6667px;">事件绑定放肆</span></div></li><ol><li><div><span style="font-size: 14.6667px;">事件句柄绑定方式</span></div></li><li><div><span style="font-size: 11pt;">DOM对象方式</span></div></li></ol><li><div><span style="font-size: 11pt;">BOM对象：</span></div></li><ol><li><div><span style="font-size: 11pt;">概念：Browser Object Model 浏览器对象模型，</span><span style="font-size: 11pt;">将浏览器的各个组成部分封装成对象。</span></div></li><li><div><span style="font-size: 11pt;">组成：</span></div></li><ol><li><div><span style="font-size: 11pt;"> Window：窗口对象</span></div></li><li><div><span style="font-size: 11pt;"> Navigator：浏览器对象</span></div></li><li><div><span style="font-size: 11pt;"> Screen：显示器屏幕对象</span></div></li><li><div><span style="font-size: 11pt;"> History：历史记录对象</span></div></li><li><div><span style="font-size: 11pt;">Location：地址栏对象</span></div></li></ol><li><div><span style="font-size: 11pt;">Window：窗口对象</span></div></li><ol><li><div><span style="font-size: 14.6667px;">方法</span></div></li><ol><li><div><span style="font-size: 11pt;">与弹出框有关的方法：</span></div></li><ol><li><div><span style="font-size: 11pt;">alert()    显示带有一段消息和一个确认按钮的警告框。</span></div></li><li><div><span style="font-size: 11pt;">confirm()    显示带有一段消息以及确认按钮和取消按钮的对话框</span></div></li><ol><li><div><span style="font-size: 11pt;">如果用户点击确定按钮，则方法返回true</span></div></li><li><div><span style="font-size: 11pt;">如果用户点击取消按钮，则方法返回false</span></div></li></ol><li><div><span style="font-size: 11pt;">prompt()    显示可提示用户输入的对话框。</span></div></li><ol><li><div><span style="font-size: 11pt;"> 返回值：获取用户输入的值</span></div></li></ol></ol><li><div><span style="font-size: 11pt;">与打开关闭有关的方法</span></div></li><ol><li><div><span style="font-size: 11pt;">close()    关闭浏览器窗口。</span></div></li><ol><li><div><span style="font-size: 11pt;">谁调用我 ，我关谁</span></div></li></ol><li><div><span style="font-size: 11pt;">open()    打开一个新的浏览器窗口</span></div></li><ol><li><div><span style="font-size: 11pt;">返回新的Window对象</span></div></li></ol><li><div><span style="font-size: 11pt;">与定时器有关的方式</span></div></li></ol><li><div><span style="font-size: 14.6667px;">属性：</span></div></li><ol><li><div><span style="font-size: 14.6667px;">获取其它BOM对象</span></div></li><ul><li><div><span style="font-size: 11pt;">history</span></div></li><li><div><span style="font-size: 11pt;">location</span></div></li><li><div><span style="font-size: 11pt;">Navigator</span></div></li><li><div><span style="font-size: 11pt;">Screen</span></div></li></ul><li><div><span style="font-size: 14.6667px;">获取DOM对象</span></div></li><ol><li><div><span style="font-size: 14.6667px;">document</span></div></li></ol></ol><li><div><span style="font-size: 11pt;">Location:地址栏对象</span></div></li><ol><li><div><span style="font-size: 14.6667px;">创建（获取）：</span></div></li><ol><li><div><span style="font-size: 11pt;">window.location</span></div></li><li><div><span style="font-size: 11pt;">location</span></div></li></ol><li><div><span style="font-size: 14.6667px;">方法：</span></div></li><ol><li><div><span style="font-size: 14.6667px;">reload()重新加载当前文档</span></div></li></ol><li><div><span style="font-size: 14.6667px;">属性：</span></div></li><ol><li><div><span style="font-size: 14.6667px;">href设置或返回完整的URL</span></div></li></ol></ol><li><div><span style="font-size: 14.6667px;">History：历史记录对象</span></div></li><ol><li><div><span style="font-size: 14.6667px;">创建</span></div></li><ol><li><div><span style="font-size: 11pt;">window.history</span></div></li><li><div><span style="font-size: 11pt;">history</span></div></li></ol><li><div><span style="font-size: 14.6667px;">方法：</span></div></li><ol><li><div><span style="font-size: 11pt;">back()：加载history列表中的第一个URL</span></div></li><li><div><span style="font-size: 14.6667px;">forward()：加载history列表中的下一个URL</span></div></li><li><div>go(参数)：加载history列表中的某个具体页面。</div></li><ol><li><div>参数：</div></li><ol><li><div>正数：前进几个历史记录</div></li><li><div>负数：后退几个历史记录</div></li></ol></ol></ol><li><div>属性：length返回当前窗口历史列表中的URL数量。</div></li></ol></ol></ol></ol><li><div>超链接点击阻止页面跳转</div></li><ol><li><div>href = &quot;javascript:void(0);&quot;</div></li></ol><li><div>this指的就是当前标签</div></li><li><div>提前定义好类的样式，通过className来设置样式的属性值</div></li><li><div><span style="font-size: 12pt; font-weight: bold;">事件</span></div></li></ol><div><span style="font-size: 11pt;">选择和改变</span></div><div><span style="font-size: 11pt;">        1. onchange    域的内容被改变。</span></div><div><span style="font-size: 11pt;">        2. onselect    文本被选中</span></div><div><span style="font-size: 11pt;">表单事件：</span></div><div><span style="font-size: 11pt;">        1. onsubmit    确认按钮被点击。（返回false会阻止表单提交）</span></div><div><span style="font-size: 11pt;">        2. onreset    重置按钮被点击。</span></div><div><span style="font-size: 12pt; font-weight: bold;">八、bootstrap</span></div><ol><li><div><span style="font-size: 11pt;">定义容器</span></div></li><ol><li><div><span style="font-size: 11pt;">container:占指定的视口宽度，两边留白（固定宽度）</span></div></li><li><div><span style="font-size: 11pt;">container-fluid:占满整个视口宽度（100%）</span></div></li></ol><li><div><span style="font-size: 14.6667px;">定义行：row</span></div></li><li><div><span style="font-size: 14.6667px;">注意：</span></div></li><ol><li><div><span style="font-size: 14.6667px;">如果超过12，则超出部分自动换行</span></div></li><li><div><span style="font-size: 11pt;">栅格类属性可以向上兼容。栅格类适用于与屏幕宽度大于或等于分界点大小的设备。</span></div></li><li><div><span style="font-size: 11pt;">如果</span><span style="font-size: 11pt; color: rgb(255, 0, 0);">真实设备宽度</span><span style="font-size: 11pt; color: rgb(166, 0, 196);">小于</span><span style="font-size: 11pt;">了设置栅格类属性的</span><span style="font-size: 11pt; color: rgb(255, 0, 0);">设备代码的最小值</span><span style="font-size: 11pt;">，会一个元素</span><span style="font-size: 11pt; color: rgb(255, 0, 0); font-weight: bold;">沾满一整行</span><span style="font-size: 11pt;">。</span></div></li></ol><li><div><span style="font-size: 14.6667px;">列偏移：col-md-offset-3(偏移3个单位)</span></div></li><li><div><span style="font-size: 11pt;">class=&quot;img-responsive（图片自适应）</span></div></li></ol><div><span style="font-size: 14pt; font-weight: bold;">九、xml</span></div><ol><li><div><span style="font-size: 14.6667px;">概念：可扩展标记语言</span></div></li><ul><li><div><span style="font-size: 14.6667px;">可扩展：标签都是自定义的</span></div></li></ul><li><div><span style="font-size: 14.6667px;">功能</span></div></li><ol><li><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; color: rgb(166, 0, 196);">存储数据</span></span></div></li><ol><li><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; color: rgb(166, 0, 196);">配置文件</span></span></div></li><li><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; color: rgb(166, 0, 196);">在网络中传输</span></span></div></li></ol></ol><li><div><span style="font-size: 14.6667px;">与HTML的区别</span></div></li><ol><li><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; color: rgb(255, 0, 0);">xml标签都是自定义的，HTML标签是预定义</span></span></div></li><li><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; color: rgb(255, 0, 0);">xml的语法严格，HTML语法松散</span></span></div></li><li><div><span style="color: rgb(255, 0, 0);">xml是存储数据的，HTML是展示数据的</span></div></li></ol><li><div>语法：</div></li><ol><li><div>基本语法：</div></li><ol><li><div>xml文档的后缀名.xml</div></li><li><div>xml第一行必须定义为文档声明</div></li><li><div>xml文档中有且仅有一个根标签</div></li><li><div>属性值必须使用引号引起来</div></li><li><div>标签必须正确关闭</div></li><li><div>xml标签名称区分大小写</div></li></ol><li><div>组成部分</div></li><ol><li><div>文档声明</div></li><ol><li><div>格式：&lt;?xml  属性列表  ?&gt;</div></li><li><div>属性列表</div></li><ol><li><div>version:版本号，必须的属性</div></li><li><div>encoding:编码方式，告知解析引擎当前文档使用的字符集编码方式，默认值：ISO-8859-1</div></li><li><div>standalone:是否独立</div></li><ol><li><div>取值：</div></li><ol><li><div>yes：不依赖其他文件</div></li><li><div>no：依赖其他文件</div></li></ol></ol></ol></ol><li><div>指令（结合css的）</div></li><ul><li><div><span style="background-color: rgb(255, 255, 255);"><span style="font-size: 12pt; background-color: rgb(255, 255, 255); font-family: &quot;Droid Sans Mono&quot;;">&lt;?</span><span style="font-size: 12pt; background-color: rgb(255, 255, 255); font-family: &quot;Droid Sans Mono&quot;;">xml-stylesheet</span> <span style="font-size: 12pt; background-color: rgb(255, 255, 255); font-family: &quot;Droid Sans Mono&quot;;">type='text/css' href='a.css'</span></span> <span style="font-size: 12pt; font-family: &quot;Droid Sans Mono&quot;;">?&gt;</span></div></li></ul><li><div>标签：标签名称自定义的</div></li><ol><li><div>规则：</div></li><ul><li><div>名称可以包含字母、数字以及其他的字符</div></li><li><div>名称不能以数字或者标点符号开始</div></li><li><div>名称不能以字母 xml（或者 XML、Xml 等等）开始</div></li><li><div>名称不能包含空格</div></li></ul></ol><li><div>属性：id属性值唯一</div></li><li><div>文本：</div></li><ol><li><div><span style="color: rgb(255, 0, 0);">CDATA区：在该区域中的数据会被原样展示</span></div></li><ol><li><div><span style="color: rgb(255, 0, 0);">格式：&lt;![CDATA[ 数据 ]]&gt;</span></div></li></ol></ol></ol><li><div>约束：规定xml文档的书写规则</div></li><ol><li><div><img src="JDBC_files/约束.bmp" type="image/bmp" data-filename="约束.bmp"/></div></li><li><div>作为框架使用者</div></li><ol><li><div>能够在xml中引入约束文档</div></li><li><div>能够简单的读懂约束文档</div></li></ol><li><div>分类</div></li><ol><li><div>DTD：一种简单的约束技术</div></li><ol><li><div>引入dtd文档到xml文档中</div></li><ol><li><div> 内部dtd：将约束规则定义在xml文档中</div></li><li><div> 外部dtd：将约束的规则定义在外部的dtd文件中</div></li><ol><li><div>本地：&lt;!DOCTYPE 根标签名 SYSTEM &quot;dtd文件的位置&quot;&gt;</div></li><li><div>网络：&lt;!DOCTYPE 根标签名 PUBLIC &quot;dtd文件名字&quot; &quot;dtd文件的位置URL&quot;&gt;</div></li></ol></ol></ol><li><div>Schema：一种复杂的约束技术</div></li><ol><li><div>引入：</div></li><ol><li><div>填写xml文档的根元素</div></li><li><div>引入xsi前缀.  xmlns:xsi=&quot;<a href="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>&quot;</div></li><li><div>引入xsd文件命名空间.  xsi:schemaLocation=&quot;<a href="http://www.itcast.cn/xml">http://www.itcast.cn/xml</a>  student.xsd&quot;</div></li><li><div>为每一个xsd约束声明一个前缀,作为标识  xmlns=&quot;<a href="http://www.itcast.cn/xml">http://www.itcast.cn/xml</a>&quot;</div></li></ol></ol></ol></ol></ol><li><div><span style="font-size: 11pt; font-weight: bold;">解析：操作xml文档，将文档中的数据读取到内存中</span></div></li><ol><li><div>操作xml文档</div></li><ol><li><div>解析（读取）：将文档中的数据读取到内存中</div></li><li><div>写入：将内存中的数据保存到xml文档中，持久化的存储</div></li></ol><li><div><span style="color: rgb(255, 0, 0); font-weight: bold;">解析xml的方式</span></div></li><ol><li><div><span style="color: rgb(255, 0, 0);">DOM：将标记语言文档一次性加载进内存，在内存中形成一颗dom树</span></div></li><ul><li><div>优点：操作方便，可以对文档进行CRUD的所有操作</div></li><li><div>缺点：占内存</div></li></ul><li><div><span style="color: rgb(255, 0, 0);">SAX：逐行读取，基于事件驱动的。</span></div></li><ul><li><div> 优点：不占内存。</div></li><li><div>缺点：只能读取，不能增删改</div></li></ul></ol></ol><li><div>xml常见的解析器</div></li><ol><li><div>JAXP：sun公司提供的解析器，支持dom和sax两种思想</div></li><li><div>DOM4J：一款非常优秀的解析器（支持DOM和SAX）</div></li><li><div>Jsoup：jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。</div></li><li><div>PULL：Android操作系统内置的解析器，<span style="color: rgb(227, 0, 0);">sax方式的</span>。</div></li></ol><li><div>Jsoup：jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。</div></li><ol><li><div>快速入门</div></li><ol><li><div>导入jar包</div></li><li><div>获取Document对象</div></li><li><div>获取对应的标签Element对象</div></li><li><div>获取数据</div></li></ol><li><div>Jsoup：工具类，可以解析html或xml文档，返回Document</div></li><ol><li><div>parse：解析html或xml文档，返回Document</div></li><li><div>parse(File in, String charsetName)：解析xml或html文件的。</div></li><li><div>parse(String html)：解析xml或html字符串</div></li><li><div>parse(URL url, int timeoutMillis)：通过网络路径获取指定的html或xml的文档对象</div></li></ol><li><div>Document：文档对象。代表内存中的dom树</div></li><ol><li><div>获取Element对象</div></li><ol><li><div><span style="color: rgb(255, 0, 0);">getElementById(String id)：根据id属性值获取唯一的element对象</span></div></li><li><div><span style="color: rgb(255, 0, 0);">getElementsByTag(String tagName)：根据标签名称获取元素对象集合</span></div></li><li><div><span style="color: rgb(255, 0, 0);">getElementsByAttribute(String key)：根据属性名称获取元素对象集合</span></div></li><li><div><span style="color: rgb(255, 0, 0);">getElementsByAttributeValue(String key, String value)：根据对应的属性名和属性值获取元素对象集合</span></div></li></ol></ol><li><div>Elements：元素Element对象的集合。可以当做 ArrayList&lt;Element&gt;来使用</div></li><li><div>Element：元素对象</div></li><ol><li><div> 获取子元素对象</div></li><ol><li><div>getElementById(String id)：根据id属性值获取唯一的element对象</div></li><li><div>getElementsByTag(String tagName)：根据标签名称获取元素对象集合</div></li><li><div>getElementsByAttribute(String key)：根据属性名称获取元素对象集合</div></li><li><div>getElementsByAttributeValue(String key, String value)：根据对应的属性名和属性值获取元素对象集合</div></li></ol></ol></ol><ol><ol><li><div>获取属性值</div></li><ol><li><div><span style="color: rgb(255, 0, 0);">String attr(String key)：根据属性名称获取属性值</span></div></li></ol><li><div><span style="color: rgb(255, 0, 0);">获取文本内容</span></div></li><ol><li><div><span style="color: rgb(255, 0, 0);">String text():获取文本内容</span></div></li><li><div><span style="color: rgb(255, 0, 0);">String html():获取标签体的所有内容(包括子标签的字符串内容)</span></div></li></ol></ol><li><div>快捷查询方式：</div></li><ol><li><div><span style="color: rgb(255, 0, 0); font-weight: bold;">selector:选择器</span></div></li><ol><li><div><span style="color: rgb(255, 0, 0); font-weight: bold;">使用的方法：Elements    select(String cssQuery)</span></div></li><li><div>语法：参考Selector类中定义的语法</div></li><ol><li><div>示例：<span style="background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(0, 0, 0); font-family: &quot;Droid Sans Mono&quot;;">Elements elements2 = document.select(</span><span style="background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(0, 128, 0); font-family: &quot;Droid Sans Mono&quot;; font-weight: bold;">&quot;#person_3&quot;</span><span style="font-size: 12pt; color: rgb(0, 0, 0); font-family: &quot;Droid Sans Mono&quot;;">);</span></div></li></ol></ol></ol></ol><li><div>XPath：XPath即为XML路径语言，它是一种用来确定XML（标准通用标记语言的子集）文档中某部分位置的语言</div></li><ol><li><div>使用Jsoup的Xpath需要额外导入jar包。</div></li><li><div>查询w3cshool参考手册，使用xpath的语法完成查询</div></li><li><div>示例：<span style="background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(0, 0, 0); font-family: &quot;Droid Sans Mono&quot;;">List&lt;JXNode&gt; jxNodes = jx.selN(</span><span style="background-color: rgb(255, 255, 255); font-size: 12pt; color: rgb(0, 128, 0); font-family: &quot;Droid Sans Mono&quot;; font-weight: bold;">&quot;//person[@id='person_2']&quot;</span><span style="font-size: 12pt; color: rgb(0, 0, 0); font-family: &quot;Droid Sans Mono&quot;;">);</span></div></li></ol></ol><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div>    </div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 